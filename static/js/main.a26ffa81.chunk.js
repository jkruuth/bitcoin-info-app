(this["webpackJsonpbitcoin-info-app"]=this["webpackJsonpbitcoin-info-app"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(16),i=n.n(c),s=n(7),o=n.n(s),u=n(17),h=n(5),d=n(18),l=n.n(d),p=n(0),j=function(e,t){for(var n=1,r=t;r<e.prices.length-1&&e.prices[r][1]>=e.prices[r+1][1];r++)n++;return n},f=function(e){for(var t=0,n=1,r=0;r<e.prices.length;r+=n)(n=j(e,r))>t&&(t=n);return t>0?t-1:t},b=function(e){var t=e.fetchedData,n=f(t);return Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("h3",{children:"The maximum amount of days bitcoin\xb4s price was decreasing in a row"}),Object(p.jsxs)("p",{children:["Amount of days: ",n]})]})},v=function(e){for(var t=e.fetchedData,n=e.getDayMonthYear,r={date:t.total_volumes[0][0],price:t.total_volumes[0][1]},a=1;a<t.total_volumes.length;a++)t.total_volumes[a][1]>r.price&&(r.date=t.total_volumes[a][0],r.price=t.total_volumes[a][1]);return Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("h3",{children:"The date with the highest trading volume and the volume on that day in euros"}),Object(p.jsxs)("p",{children:["Date: ",n(r.date)]}),Object(p.jsxs)("p",{children:["Volume in euros: ",r.price]})]})},O=function(e){for(var t=e.fetchedData,n=e.getDayMonthYear,r={prices:[],date:[]},a=0;a<t.prices.length;a++)r.prices.push(t.prices[a][1]),r.date.push(t.prices[a][0]);for(var c=r.prices[0],i=r.date[0],s=1;s<r.prices.length;s++)r.prices[s]<c&&(c=r.prices[s],i=r.date[s]);for(var o=r.prices.indexOf(c),u=r.date.indexOf(i),h=r.prices.indexOf(c);h<r.prices.length;h++)r.prices[h]>o&&(o=r.prices[h],u=r.date[h]);var d=f(t)===t.prices.length||i===u?"You should not buy or sell on any given day":n(i)+" and "+n(u);return Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("h3",{children:"A pair of days: The day to buy and the day to sell"}),Object(p.jsx)("p",{children:d})]})},x=(n(43),function(e){var t=e.fetchedData;if(0===Object.keys(t).length||1===t.prices.length)return Object(p.jsx)("p",{children:"Not enough fetched data"});var n=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())};return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"content_wrapper",children:[Object(p.jsx)(b,{fetchedData:t}),Object(p.jsx)(v,{fetchedData:t,getDayMonthYear:n}),Object(p.jsx)(O,{fetchedData:t,getDayMonthYear:n})]})})}),g=function(){var e=Object(r.useState)({}),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(h.a)(c,2),s=i[0],d=i[1],j=Object(r.useState)(""),f=Object(h.a)(j,2),b=f[0],v=f[1],O=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,c,i,u,h,p,j,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=3600,n=new Date(s).getTime()/1e3,r=new Date(b).getTime()/1e3,!(n>r)){e.next=8;break}return alert('"To" date can not be before "from" date'),d(""),v(""),e.abrupt("return");case 8:return e.prev=8,e.next=11,l.a.get("https://api.coingecko.com/api/v3/coins/bitcoin/market_chart/range?vs_currency=eur&from=".concat(n,"&to=").concat(r+t));case 11:if(c=e.sent,i=c.data,u={},Object.keys(i).forEach((function(e){return u[e]=i[e]})),(h=(1e3*r-1e3*n)/864e5)<2)for(p in i)Array.isArray(u[p])&&(u[p]=[],u[p].push(i[p][0]),u[p].push(i[p][24]));else if(h>=2&&h<=90)for(j in i)if(Array.isArray(u[j]))for(u[j]=[],f=0;f<i[j].length;f+=24)u[j].push(i[j][f]);a(u),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),console.log(e.t0);case 24:d(""),v("");case 26:case"end":return e.stop()}}),e,null,[[8,21]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h1",{children:"Bitcoin info app"}),Object(p.jsx)("h2",{children:"Enter the desired time interval "}),Object(p.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!s||!b)return d(""),void v("");O()},children:[Object(p.jsxs)("div",{children:["from",Object(p.jsx)("input",{type:"date",value:s,placeholder:"YYYY-MM-DD",onChange:function(e){var t=e.target;return d(t.value)}}),"to",Object(p.jsx)("input",{type:"date",value:b,placeholder:"YYYY-MM-DD",onChange:function(e){var t=e.target;return v(t.value)}})]}),Object(p.jsx)("button",{type:"submit",children:"search"})]}),Object(p.jsx)(x,{fetchedData:n})]})};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.a26ffa81.chunk.js.map