(this["webpackJsonpbitcoin-info-app"]=this["webpackJsonpbitcoin-info-app"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(16),i=n.n(a),o=n(7),s=n.n(o),u=n(17),h=n(5),d=n(18),l=n.n(d),j=n(0),f=function(e,t){for(var n=1,r=t;r<e.prices.length-1&&e.prices[r][1]>=e.prices[r+1][1];r++)n++;return n},p=function(e){for(var t=0,n=1,r=0;r<e.prices.length;r+=n)(n=f(e,r))>t&&(t=n);return t>0?t-1:t},b=function(e){var t=e.fetchedData,n=p(t);return Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("h3",{children:"The maximum amount of days bitcoin\xb4s price was decreasing in a row"}),Object(j.jsxs)("p",{children:["Amount of days: ",n]})]})},v=function(e){var t=e.fetchedData,n=e.getDayMonthYear,r=t.total_volumes.reduce((function(e,t){return e[1]>t[1]?e:t}));return Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("h3",{children:"The date with the highest trading volume and the volume on that day in euros"}),Object(j.jsxs)("p",{children:["Date: ",n(r[0])]}),Object(j.jsxs)("p",{children:["Volume in euros: ",r[1]]})]})},O=function(e){var t=e.fetchedData,n=e.getDayMonthYear,r=t.prices.reduce((function(e,t){return e[1]<t[1]?e:t}));console.log(r);var c={prices:[],date:[]};t.prices.forEach((function(e){c.prices.push(e[1]),c.date.push(e[0])})),console.log(c);for(var a=r[1],i=r[0],o=c.prices.indexOf(a),s=c.date.indexOf(i),u=c.prices.indexOf(a);u<c.prices.length;u++)c.prices[u]>o&&(o=c.prices[u],s=c.date[u]);var h=p(t);console.log(h);var d=h===t.prices.length||i===s?"You should not buy or sell on any given day":n(i)+" and "+n(s);return Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("h3",{children:"A pair of days: The day to buy and the day to sell"}),Object(j.jsx)("p",{children:d})]})},x=(n(43),function(e){var t=e.fetchedData;if(0===Object.keys(t).length||1===t.prices.length)return Object(j.jsx)("p",{children:"Not enough fetched data"});var n=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())};return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"content_wrapper",children:[Object(j.jsx)(b,{fetchedData:t}),Object(j.jsx)(v,{fetchedData:t,getDayMonthYear:n}),Object(j.jsx)(O,{fetchedData:t,getDayMonthYear:n})]})})}),g=function(){var e=Object(r.useState)({}),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(h.a)(a,2),o=i[0],d=i[1],f=Object(r.useState)(""),p=Object(h.a)(f,2),b=p[0],v=p[1],O=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r,a,i,u,h,j,f,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=3600,n=new Date(o).getTime()/1e3,r=new Date(b).getTime()/1e3,!(n>r)){e.next=8;break}return alert('"To" date can not be before "from" date'),d(""),v(""),e.abrupt("return");case 8:return e.prev=8,e.next=11,l.a.get("https://api.coingecko.com/api/v3/coins/bitcoin/market_chart/range?vs_currency=eur&from=".concat(n,"&to=").concat(r+t));case 11:if(a=e.sent,i=a.data,u={},Object.keys(i).forEach((function(e){return u[e]=i[e]})),(h=(1e3*r-1e3*n)/864e5)<2)for(j in i)Array.isArray(u[j])&&(u[j]=[],u[j].push(i[j][0]),u[j].push(i[j][24]));else if(h>=2&&h<=90)for(f in i)if(Array.isArray(u[f]))for(u[f]=[],p=0;p<i[f].length;p+=24)u[f].push(i[f][p]);c(u),console.log(u),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(8),console.log(e.t0);case 25:d(""),v("");case 27:case"end":return e.stop()}}),e,null,[[8,22]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"Bitcoin info app"}),Object(j.jsx)("h2",{children:"Enter the desired time interval "}),Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!o||!b)return d(""),void v("");O()},children:[Object(j.jsxs)("div",{children:["from",Object(j.jsx)("input",{type:"date",value:o,placeholder:"YYYY-MM-DD",onChange:function(e){var t=e.target;return d(t.value)}}),"to",Object(j.jsx)("input",{type:"date",value:b,placeholder:"YYYY-MM-DD",onChange:function(e){var t=e.target;return v(t.value)}})]}),Object(j.jsx)("button",{type:"submit",children:"search"})]}),Object(j.jsx)(x,{fetchedData:n})]})};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.fe803488.chunk.js.map